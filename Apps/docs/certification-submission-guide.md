---
ms.author: oromalle
title: Руководство по сертификации Microsoft 365
author: orionomalley
description: Представление руководства по сертификации Microsoft 365
keywords: Группы сертификации приложений Майкрософт 365 m365
ms.topic: conceptual
ms.service: attestation
ms.openlocfilehash: 4d0f09b3a1dd6bde7022e93d08a491e2855d90a7
ms.sourcegitcommit: e97156a6eaf1d5ec5c26fd14add210a92bacd944
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2021
ms.locfileid: "52071368"
---
# <a name="microsoft-365-certification-submission-guide"></a>Руководство по сертификации Microsoft 365

**В этой статье:**
- [Введение](#introduction)
- [Необходимые компоненты](#prerequisites) 
- [Обновления спецификаций сертификации Microsoft 365](#microsoft-365-certification-specification-updates)
- [Область сертификации](#certification-scope)
- [Процесс сертификации](#certification-process)
- [Доказательства соответствия требованиям](#compliance-evidence) 
- [Начальная отправка документа](#initial-document-submission) 
- [Мероприятия по сбору и оценке доказательств](#evidence-collection-and-assessment-activities)
- [Критерии сертификации](#app-certification-criteria)
- [Application Security](#application-security)
- [Оперативная безопасность](#operational-security) 
- [Безопасность и конфиденциальность обработки данных](#data-handling-security-and-privacy)
- [Необязательный обзор внешних рамок соответствия требованиям](#optional-external-compliance-frameworks-review)
- [Приложение A](#appendix-a)
- [Приложение B](#appendix-b) 
- [Приложение C](#appendix-c) 
- [Приложение D](#appendix-d) 
- [Приложение E](#appendix-e) 
- [Приложение F](#appendix-f) 
- [Приложение G ](#appendix-g)
- [Подробнее](#learn-more) 
- [Глоссарий](#glossary) 


## <a name="introduction"></a>Введение

Сертификация Microsoft 365, которая входит в программу соответствия требованиям к приложениям Microsoft 365, обеспечивает корпоративным организациям уверенность в том, что данные и конфиденциальность надлежащим образом защищены и защищены при интеграции сторонних приложений-разработчиков и надстроек в платформу Microsoft 365. Приложения и надстройки, которые проходят проверку, будут иметь обозначение **Microsoft 365 Certified** по всей экосистеме Microsoft 365. 

Участвуя в программе сертификации Microsoft 365, вы соглашаетесь на эти дополнительные условия и выполняете все сопроводительные документы, применимые к вашему участию в программе сертификации Microsoft 365 корпорации Майкрософт ("Майкрософт", "мы", "мы" или "наши"). Вы представляете и гарантируете нам, что у вас есть полномочия принимать эти дополнительные условия сертификации Microsoft 365 от имени себя, компании и/или другого объекта в соответствии с применимыми условиями. Мы можем изменить, изменить или прекратить эти дополнительные термины в любое время. Ваше дальнейшее участие в программе сертификации Microsoft 365 после изменений или поправок означает, что вы согласны с новыми дополнительными условиями. Если вы не согласны с новыми дополнительными терминами или если мы прекращаем эти дополнительные условия, необходимо прекратить участие в программе сертификации Microsoft 365.

Этот документ предназначен для ПОСТАВЩИКОВ (независимых поставщиков программного обеспечения) для предоставления сведений о процессе сертификации Microsoft 365, необходимых для начала процесса и сведений о конкретных средствах управления безопасностью, которые должны иметься в isVs.  Общие сведения о программе соответствия требованиям к приложениям Microsoft 365 можно [](https://docs.microsoft.com/microsoft-365-app-certification/overview)найти на странице Программы соответствия требованиям приложений Microsoft 365. 

> [!IMPORTANT]
> В настоящее время сертификация Microsoft 365 ограничена:
>* Приложения Microsoft Teams (Вкладки, боты и т.д.).
>* Приложения и надстройки Sharepoint
>* Надстройки Office (Word, Excel, PowerPoint, Outlook, Project, OneNote)

## <a name="prerequisites"></a>Необходимые условия

### <a name="publisher-attestation"></a>Атестация издателя

Прежде чем пройти сертификацию Microsoft 365, необходимо завершить аттестацию издателя. Однако вы можете начать процесс сертификации Microsoft 365 до завершения аттестации издателя.  

### <a name="read-the-microsoft-365-certification-specification"></a>Ознакомьтесь с спецификацией сертификации Microsoft 365

Корпорация Майкрософт рекомендует всем isVs (независимому поставщику программного обеспечения) полностью ознакомиться с этой спецификацией сертификации Microsoft 365, чтобы обеспечить, чтобы все применимые элементы управления были выполнены средой в области и приложением/надстройками. Это поможет обеспечить плавный процесс оценки.

## <a name="microsoft-365-certification-specification-updates"></a>Обновления спецификаций сертификации Microsoft 365 

Обновления спецификации сертификации Microsoft 365 ожидаются примерно каждые шесть-двенадцать месяцев. Эти обновления могут привести к внедрению новых целевых доменов безопасности и /или элементов управления безопасностью. Обновления будут основываться на отзывах разработчиков, изменениях в ландшафте угроз и повышении базовой безопасности программы по мере ее созревания. 

IsVs, которые уже приступили к оценке сертификации Microsoft 365, могут продолжить оценку с помощью версии спецификации сертификации Microsoft 365, которая была действительна при начале оценки. Все новые материалы, включая ежегодную сертификацию, будут оцениваться с учетом опубликованной версии.

> [!NOTE]
> Для сертификации не требуется выполнять все элементы управления в этой спецификации сертификации Microsoft 365. Однако для каждого из доменов безопасности, о которых идет речь в этой спецификации сертификации Microsoft 365, имеются пороговые значения (которые не раскрываются). Некоторые элементы управления будут классифициться как **"Hard Fail",** что означает, что отсутствие этих элементов управления безопасностью приведет к сбойной оценке. 

## <a name="certification-scope"></a>Область сертификации

Среда **в области** — это среда, которая поддерживает доставку кода приложения и надстройки и поддерживает любые системы поддержки, с которой может общаться приложение и надстройка. Любые дополнительные подключенные среды также будут включены в область, если не будет адекватной сегментации, и подключенные среды не могут повлиять на безопасность среды в области. Любые среды аварийного восстановления также должны быть включены в область оценки, так как эти среды будут необходимы для выполнения службы, если что-либо произойдет с основной средой.  Термин в **области системных компонентов** ссылается на все устройства и системы, используемые   в среде в  области. В области компоненты включают, но не ограничиваются:
* Веб-приложение(ы).
* Серверы.
* Брандмауэры (или эквивалентные).
* Переключатели.
* Балансиры нагрузки.
* Виртуальная инфраструктура.
* Порталы управления веб-службами поставщиков облачных услуг 

> [!IMPORTANT]
> Среда в области должна иметь DMZ, а поддерживающие среды приложения/надстройки должны быть сегментироваться из внутренних бизнес-систем и корпоративных сред, ограничив таким образом область деятельности по оценке только в области систем. Аналитики сертификации проверят методы сегментации во время оценки, а также анализ отчетов о тестировании на проникновение, которые должны были включать тестирование для проверки эффективности любых методов сегментации, которые используются.

### <a name="infrastructure-as-a-service-iaas-platform-as-a-service-paas-and-software-as-a-service-saas"></a>Инфраструктура как служба (IaaS), платформа как служба (PaaS) и программное обеспечение как служба (SaaS) 
Если IaaS и/или PaaS используются для поддержки инфраструктуры приложения или доставки кода надстройки в процессе проверки, поставщик облачной платформы будет отвечать за некоторые элементы управления безопасностью, которые оцениваются на протяжении всего процесса сертификации. Поэтому аналитикам сертификации необходимо будет предоставлять независимую внешнюю проверку передовой практики безопасности поставщиком облачных платформ через внешние отчеты о соответствии требованиям, например отчеты [PCI DSS](bookmark://pci-dss)   Attestation of Compliance (AOC), ISO27001 или [SOC 2](bookmark://soc-2)   Type II. 

Приложение F содержит сведения о том, какие элементы управления безопасностью, скорее всего, будут применяться на основе следующих типов развертывания и на основе того, exfiltrates данные M365 приложения или надстройки: 
* ISV Hosted 
* Хостинг IaaS 
* Хостинг PaaS/Serverless 
* Гибридная хост-система 
* Общий хост 

При развертывании IaaS или PaaS необходимо предоставить доказательства среды размещения в этих типах развертывания.

### <a name="sampling"></a>Выборка

Запросы на доказательства в поддержку оценки сертификации должны основываться на примере компонентов системы в области с учетом различных операционных систем, основной функции устройства и различных типов устройств. Подходящий пример будет выбран в начале процесса сертификации. Следующая таблица должна использоваться в качестве руководства по размеру примера:

|Размер популяции              | Пример                  |
|---------------------------- |-------------------------|
|<5|1|
|>5 & <10|2|
|>9 & <25|3|
|>24|4 |

> [!NOTE]
>Если между устройствами, включенными в первоначальный пример, будут выявлены несоответствия, размер выборки может быть увеличен во время оценки. 

## <a name="certification-process"></a>Процесс сертификации

Перед началом процесса сертификации необходимо успешно начать или завершить аттестацию издателя. Ответы на аттестацию будут использоваться в поддержку процесса сертификации Microsoft 365 и будут выполняться следующим образом: 

1. Просмотрите документацию по проверке издателя, чтобы убедиться в соответствии с текущей средой. 
2. Запрос на продвижение к сертификации Microsoft 365 по электронной почте <AppCert@microsoft.com> 
3. Аналитики сертификации откроют диалог перед началом процесса сертификации Microsoft 365   
4. Отправка [исходного документа](#initial-document-submission)
5. Аналитик сертификации предоставит список элементов управления, для которых необходимы доказательства, которые формально начинают процесс сертификации Microsoft 365
6. Отправка данных, которые демонстрируют, что все элементы управления сертификацией Microsoft 365 были выполнены в 60-дневном окне для завершения сертификации Microsoft 365 

> [!IMPORTANT]
> **Срок отправки:** Предполагается, что в среднем процесс оценки должен занять 15 дней при условии, что вы сможете своевременно реагировать на запросы о доказательствах. Корпорация Майкрософт рекомендует вам убедиться, что это руководство по отправке сертификации было прочитано, и убедитесь, что вы можете выполнить элементы управления, установленные в нем, и вы можете предоставить достаточно доказательств перед началом процесса сертификации. После начала процесса сертификации для завершения оценки разрешается не более 60 дней, в противном случае собранные доказательства становятся устаревшими. Если после 60-дневного периода успешной оценки не будет достигнуто, представление будет выдано сбой и процесс должен начаться заново. Если сбой выдан из-за несоблюдения спецификации сертификации Microsoft 365 или из-за того, что 60-дневный период времени достигнут и не предоставлено достаточное количество доказательств, результаты сбоя не будут огласиться Корпорацией Майкрософт. 

## <a name="compliance-evidence"></a>Доказательства соответствия требованиям

Хотя это и не требуется, если вы в настоящее время соответствуете другим внешним системам безопасности, вы можете использовать эти сертификаты для удовлетворения некоторых элементов управления сертификацией Microsoft 365. Аналитики сертификации проверят охват и охват контроля безопасности любых поддерживаемых внешних структур безопасности, чтобы определить, какие элементы управления можно исключить из оценки сертификации Microsoft 365, при условии, что область внешних структур безопасности включает среды в области для оценки сертификации Microsoft 365. 

Аналитики сертификации попытаются привести существующие внешние рамки безопасности в соответствие со спецификацией сертификации Microsoft 365. Однако, если сопроводивая документация не может обеспечить гарантию того, что элементы управления сертификацией Microsoft 365 были оценены как часть аудита и оценки внешних рамок безопасности, вам потребуется предоставить дополнительные свидетельства о том, что эти элементы управления на месте. 

В настоящее время внешние рамки безопасности, которые можно использовать для поддержки оценки сертификации Microsoft 365, включают следующие:

*  [ISMS](#isms) / [IEC](#iec) — спецификация IS0/IEC 27001 
*  [PCI DSS](#pci-dss)
*  [SOC 2;](#soc-2)

Документация должна надлежащим образом продемонстрировать, что среда для сертификации Microsoft 365 была включена в область этих внешних рамок безопасности. Проверка этих структур безопасности будет выполнена путем реализации доказательств действительных сертификатов, проводимых авторитетными внешними сторонними компаниями. Эти авторитетные компании должны быть членами международных органов аккредитации для соответствующих программ соответствия требованиям. [См.](https://www.iso.org/certification.html) стандарты сертификации и соответствия требованиям ISO для ISO 27001 и квалифицированных оценщиков безопасности [](https://www.pcisecuritystandards.org/assessors_and_solutions/qualified_security_assessors) (QSA) для PCI DSS. 

В следующей таблице выделяется документация, необходимая аналитикам сертификации в рамках этого процесса проверки:

| **Standard** | **Требования** |
| ----- | ----- |
| **[ISO 27001](#iso-27001)** | Потребуется публичная версия  Утверждения применимости (SOA) и копия выданного сертификата ISO 27001.  SoA обобщает вашу позицию по каждому из 114 элементов управления информационной безопасности и будет использоваться для определения исключения элементов управления, которые не являются удовлетворительными в сертификате ISO 27001. Если это не может быть определено при просмотре общедоступных версий SOA, аналитику может потребоваться доступ к полной SOA, если ISO 27001 будет использоваться для проверки некоторых элементов управления спецификациями сертификации Microsoft 365.  Помимо проверки масштабов деятельности по оценке ISO 27001 аналитики также подтвердят действительность аудиторской компании, как описано выше.|
|**[PCI DSS](#pci-dss)**| Документ **проверки** соответствия требованиям уровня 1 (AOC) должен быть четко представлен с четким определением приложений и системных компонентов.  AOC  самооценки не будет приниматься в качестве доказательства наилучшей практики обеспечения безопасности. AOC будет использоваться для определения того, какие из элементов управления спецификациями сертификации Microsoft 365 были оценены и подтверждены в рамках оценки PCI DSS.|
|**[SOC 2;](#soc-2)**|Отчет **SOC 2 (Тип I** или Тип II) должен быть текущим (выдан в течение последних 15 месяцев и объявленного периода времени, начатого в течение последних 27 месяцев), который должен использоваться в качестве доказательства соответствия любому из элементов управления оценки в этой спецификации сертификации Microsoft 365.|


## <a name="microsoft-365-certification"></a>Сертификация Microsoft 365

Поддерживаемые внешние рамки безопасности можно использовать в качестве доказательства, свидетельствуют о том, что некоторые элементы управления сертификацией Microsoft 365 поддерживаются. Прежде чем рассматривать внешние рамки безопасности, специалисты по сертификации проверят область охвата и охват системы контроля безопасности внешней системы безопасности с помощью документации, представленной выше. 

Следующие приложения можно использовать для определения возможных пробелов между внешней структурой безопасности и спецификацией сертификации Microsoft 365 следующим образом: 

|**Платформа** | **Дополнительные соображения** |
|-------------- | --------------------|
|ISO 27001| [**Приложение C.**](#appendix-c)Коллекция доказательств — Дельта для ISO 27001.|
|PCI DSS | [**Приложение D.**](#appendix-d)Коллекция доказательств — дельты для PCI DSS.|
|SOC 2;| [**Приложение E.**](#appendix-e)Коллекция доказательств — дельта для SOC 2.|

> [!NOTE]
> Хотя указанные выше внешние стандарты и рамки безопасности могут быть представлены в качестве доказательств для удовлетворения некоторых элементов управления сертификацией Microsoft 365, прохождение сертификации Microsoft 365 не означает, что вы успешно пройдете аудит в отношении этих стандартов и рамок. Спецификация сертификации Microsoft 365 — это лишь небольшой подмножество этих стандартов и рамок безопасности, что позволяет Корпорации Майкрософт получить уровень уверенности в отношении вашей позиции безопасности.

## <a name="initial-document-submission"></a>Начальная отправка документа

Первоначальная отправка документа поможет аналитикам по сертификации выполнить анализ и определить, что будет в области для вашей оценки. После чего вам будет необходимо представить подтверждающие документы и доказательства, используемые для проведения оценки. В первоначальном представлении должны быть указаны указанные ниже сведения:

| **Обзор &nbsp; документации**     |   **Сведения о документации**  |
| -------------------------| -----------------------------|
|**Описание приложения и надстройки** | Описание цели и функциональности приложения/надстройки. Это должно обеспечить аналитику сертификации хорошее представление о том, как выполняются функции приложения и надстройки, а также что предполагается использовать.
|**Отчет о тестировании на проникновение** |Отчет о тестировании на проникновение, завершенный в течение последних 12 месяцев. Этот отчет должен включать среду, которая поддерживает развертывание приложения/добавления, а также любую дополнительную среду, которая поддерживает работу приложения и надстройки. **Примечание.** Если вы не проводите ежегодное тестирование на проникновение, вы можете выбрать, чтобы они были сделаны в процессе сертификации.|
|**Схемы архитектуры**|Логическая схема архитектуры, представляющая высококачественный обзор вспомогательной инфраструктуры приложения и надстройки. Это должно включать **все среды** размещения и вспомогательную инфраструктуру, поддерживающие приложение и надстройки. Эта схема должна изобразить все различные вспомогательные компоненты системы в среде, чтобы помочь аналитикам по сертификации понять системы в области и помочь определить выборку. Указать, какой тип среды размещения используется; IsV hosted, IaaS, PaaS или Hybrid. **Примечание:** В тех случаях, когда используется SaaS, указать различные службы SaaS, которые используются для предоставления вспомогательных служб в среде.|
|**Общедоступный след** | Детализация **всех общедоступных** IP-адресов и URL-адресов, используемых вспомогательной инфраструктурой. Это должно включать полный диапазон ip-адресов, выделенных для среды, если не будет реализована адекватная сегментация для разделения используемого диапазона (потребуются достаточные доказательства сегментации)|
|**Диаграммы потока данных** |Схемы потока, подробные ниже:
||&#x2713; M365 Data поступает в Приложение и надстройку (включая [EUII](#euii) и [OII).](#oii)|
||&#x2713; M365 Потоки данных в вспомогательной инфраструктуре (если это применимо)|
||&#x2713; Схемы, на которых выделены места и какие данные хранятся, как передаются данные внешним третьим лицам (в том числе сведения о том, какие третьи стороны) и как данные защищены при транзите через открытые/общедоступные сети и в покое.|
|**Сведения о конечной точке API**| Полный список всех конечных точек API, используемых вашим приложением. Чтобы помочь понять область среды, уделите расположение конечной точки API в среде.                                
|**Разрешения на API Майкрософт**| Предоставление документации  с подробными данными о всех API Майкрософт, используемых вместе с запросом разрешений для работы приложения и надстройки, а также обоснования запрашиваемого разрешения.|
|**Типы хранения данных** |Хранение данных и обработка документов, описывающих:|
||&#x2713; В какой степени ваши клиенты M365 Data [EUII](#euii) и [OII](#oii) получают и хранятся|
||&#x2713; период хранения данных.|
||&#x2713; Для чего захватывается клиент M365 Data.|
||&#x2713;, где хранятся данные клиента M365 (должны быть включены в схемы потока данных, предоставленные выше).|
|**Подтверждение соответствия требованиям**|Поддержка документации для внешних структур безопасности, включенных в представление Аттестации издателя или которая должна рассматриваться при рассмотрении элементов управления сертификацией Microsoft 365. В настоящее время поддерживаются следующие три:|
||&#x2713; [PCI DSS](#pci-dss) attestation of Compliance (AOC).|
||&#x2713; [отчеты SOC 2](#soc-2) Типа I/Type II.|
||&#x2713; [ISMS](#isms)  /  [IEC](#iec) - 1S0/IEC 27001 Заявление о применимости (SoA) и сертификации.|
|**Веб-зависимости**|Документация с перечислением всех зависимостей, используемых приложением и надстройки с текущими запущенными версиями.|
|**Инвентаризация программного обеспечения**|Обновление инвентаризации программного обеспечения, которое включает все программное обеспечение, используемого в среде в области, а также версии.|
|**Инвентаризация оборудования**| Последние инвентаризации оборудования, используемые вспомогательной инфраструктурой. Это будет использоваться для использования выборки при выполнении этапа оценки. Если ваша среда включает PaaS, указайте сведения о потребляемых службах.|

## <a name="evidence-collection-and-assessment-activities"></a>Мероприятия по сбору и оценке доказательств

С помощью надежных мероприятий по сбору и оценке данных аналитики сертификации смогут оценить вашу позицию безопасности, чтобы получить достаточный уровень обеспечения безопасности данных и соблюдения элементов управления спецификациями сертификации Microsoft 365. Аналитики сертификации будут добиваться этого следующим образом: 

**Коллекция доказательств**

* Начальная документация, выделенная в разделе [Начальная отправка](#initial-document-submission) документации выше 
* Документы политики 
* Документы процесса 
* Параметры конфигурации системы 
* Изменение билетов 
* Изменение записей управления 
* Отчеты системы

Для сбора доказательств, необходимых для завершения процесса оценки, будут использоваться различные методы.  Эта коллекция доказательств может быть в виде: 
* Documents 
* Снимки экрана 
* Интервью 
* Screensharing 

Используемые методы сбора доказательств будут определены в процессе оценки. 

**Действия по оценке**

Аналитики сертификации проверят представленные вами доказательства, чтобы определить, правильно ли вы выполнили элементы управления в этой спецификации сертификации Microsoft 365. 

По возможности и для сокращения времени, необходимого для завершения оценки, любая документация или вся документация, описанная в первоначальной документации, должна предоставляться [](#initial-document-submission)   заранее.

Аналитики сертификации сначала проверят данные, представленные в первоначальной документации, и сведения об аттестации издателя, чтобы определить соответствующие строки запроса, размер выборки и необходимость получения дополнительных доказательств, как описано выше.  Аналитики сертификации проанализируют всю собранную информацию, чтобы сделать выводы о том, как и как и если вы находитесь в этом элементе управления в этой спецификации сертификации Microsoft 365. 

## <a name="app-certification-criteria"></a>Критерии сертификации приложений

Ваше приложение, поддерживающие инфраструктуру и вспомогательную документацию будут оцениваться в следующих областях безопасности:

1. [**Application Security**](#application-security)
1. [**Оперативная безопасность и безопасное развертывание**](#operational-security)
1. [**Безопасность и конфиденциальность обработки данных**](#data-handling-security-and-privacy)
1. [**Необязательный обзор внешних рамок соответствия требованиям**](#optional-external-compliance-frameworks-review)

Каждый из этих доменов безопасности содержит определенные элементы управления ключами, охватывающие одно или несколько конкретных требований, которые будут оцениваться в рамках процесса оценки. Для обеспечения того, чтобы сертификация Microsoft 365 была включена для разработчиков всех размеров, каждый из четырех доменов безопасности оценивается с помощью системы скоринга для определения общего балла по каждому из доменов. Оценки для каждого из элементов управления сертификацией Microsoft 365 распределяются между 1 (низким) и 3 (высокими) в зависимости от предполагаемого риска неустойки этого контроля. Каждый из четырех доменов безопасности будет иметь минимальную процентную отметку, которая будет считаться пропуском. Некоторые элементы этой спецификации включают некоторые автоматические критерии сбой:

- Разрешения API, не следуя принципу наименьших привилегий (PoLP).  
- При необходимости отчет о тестировании на проникновение не требуется.
- Отсутствие защиты от вредоносных программ
- Многофакторная проверка подлинности не используется для защиты административного доступа.  
- Нет процессов исправления.  
- Нет подходящего [уведомления о конфиденциальности GDPR.](#gdpr)  

## <a name="application-security"></a>Application Security

Домен безопасности приложений фокусируется на трех областях: 
* Проверка разрешений GraphAPI 
* Проверка внешних подключений
* Тестирование безопасности приложений 

**Проверка разрешений GraphAPI**

Проверка разрешений GraphAPI проводится для проверки того, что приложение/надстройка не запрашивает чрезмерно разрешительных разрешений. Это осуществляется вручную, проверяя, какие разрешения запрашиваются. Аналитики сертификации перекрестят эти проверки с представлением аттестации издателя и оценят уровень доступа, запрашиваемого для обеспечения того, чтобы практики "наименьших привилегий" были выполнены. Если аналитики сертификации считают, что эти методы "наименьших привилегий" не выполнены, аналитики сертификации будут открыто обсуждать с вами, чтобы проверить бизнес-обоснование запрашиваемой разрешения. Любые несоответствия в представлении проверки издателя, найденные во время этого обзора, также получат обратную связь, чтобы ваша проверка издателя была обновлена. 

**Проверка внешних подключений**

В рамках оценки аналитик выполнит легкое выполнение функций приложений для определения подключений за пределами M365.  Во время оценки будут помечены и обсуждены все подключения, которые не являются Microsoft или прямыми подключениями к службе.

**Тестирование безопасности приложений**

Надлежащий анализ рисков, связанных с вашей средой надстройки и поддержки, имеет важное значение для предоставления клиентам гарантий безопасности приложения и надстройки. Тестирование безопасности приложений в виде тестирования на проникновение должно проводиться, если ваше приложение подключено к любой службе, не опубликованной Корпорацией Майкрософт. Если ваше приложение работает автономным образом без подключения к какой-либо службе или службе, не относя к Майкрософт, то тестирование на проникновение не требуется.


### <a name="penetration-testing-scope"></a>Область тестирования на проникновение

Мероприятия по  тестированию на проникновение должны включать среду, которая поддерживает развертывание приложения/надстройки (например, где размещен код приложения/надстройки, который обычно является ресурсом в файле манифеста), а также любую дополнительную среду, которая поддерживает работу приложения/надстройки (например, если приложение/надстройка разговаривает с другими веб-приложениями за пределами Microsoft 365).  При определении области необходимо принять меры по обеспечению того, чтобы все "подключенные" системы или среды, которые могут повлиять на безопасность среды в области, также были включены в все действия по тестированию на проникновение. 

В тех случаях, когда методы используются для сегментирования среды в области из других сред, мероприятия по тестированию на проникновение должны проверять эффективность этих методов сегментации. Это должно быть подробно описано в отчете о тестировании на проникновение. 
 

### <a name="testspecification"></a>Спецификация тестирования 

|Тест | Элементы управления |
|-------|-----------|
|**Тестирование на проникновение**| Тестирование на проникновение приложений и **инфраструктуры должно** проходить ежегодно (каждые 12 месяцев) и проводиться авторитетной независимой компанией. Устранение выявленных критических и высокоощищенных уязвимостей должно быть завершено в течение одного месяца после завершения тестирования на проникновение или раньше в зависимости от задокументированного процесса исправления. Полный внешний след (IP-адреса, URL-адреса, конечные точки API и т.д.) ДОЛЖНО быть включено в область тестирования на проникновение и должно быть задокументировано в отчете о тестировании на проникновение. Полный внешний след (IP-адреса, URL-адреса, конечные точки API и т.д.) **ДОЛЖНО** быть включено в область тестирования на проникновение и должно быть задокументировано в отчете о тестировании на проникновение.                                                                                                                                                                           Тестирование на проникновение веб-приложений должно включать все классы уязвимости; например, самая текущая OWASP Top 10 или SANS Top 25 CWE.                                                                                                                                                                                Повторное тестирование выявленных уязвимостей компанией по тестированию на проникновение не требуется — исправлений и самообзоров достаточно, однако в ходе оценки должны быть предоставлены достаточные доказательства для демонстрации достаточного количества исправлений. |

### <a name="application-security-testing-reportreview"></a>Обзор отчета о тестировании безопасности приложений

Отчеты о тестировании на проникновение будут рассмотрены для обеспечения того, чтобы не было уязвимостей, которые соответствуют следующим автоматическим критериям **сбоя:**

* Наличие неподтверченной операционной системы. 

* Наличие учетных записей администрирования по умолчанию, которые можно учесть или угадать.

* Наличие рисков SQL инъекций.*

* Наличие межсубъессийного скриптинга.*

* Наличие уязвимостей обхода каталогов (путь к файлам).*

* Наличие уязвимостей HTTP, например разделения ответов header, контрабанды запросов и атак Desync.*

* Наличие раскрытия исходных кодов (в том числе [LFI).*](#lfi)

* Любой критический или высокий балл, определенный руководством по управлению исправлениями CVSS.

* Любая значительная техническая уязвимость, которую можно легко использовать для компрометации большого количества EUII или OUI.

*Regardless of the vulnerabilities CVSS Score

> [!IMPORTANT]
>Отчеты должны быть в состоянии обеспечить достаточно уверенности в том, что все подробные сведения в разделе Спецификация тестирования безопасности приложений могут быть продемонстрированы.


### <a name="penetration-testing-requirements-and-cost"></a>Требования и затраты на тестирование на проникновение

Для isVs, которые в настоящее время не участвуют в тестировании на проникновение, тестирование на проникновение включено в сертификат Microsoft 365. Корпорация Майкрософт организует и покрывает затраты на тестирование на проникновение в течение до 12 дней ручного тестирования. Затраты на тесты на проникновение рассчитываются в зависимости от количества дней, необходимых для проверки среды. Ответственность за любые расходы, превышающие 12 дней тестирования, несет isV. IsV также будет отвечать за демонстрацию того, что уязвимости, выявленные в тесте на проникновение, были исправлены до получения сертификата, но не нужно создавать чистый отчет.

После того как будет организован тест на проникновение, isV несет ответственность за сборы, связанные с переносом и отменой:

| **Перенос сроков оплаты** | **Пропорциональная выплата** |
|------------------|------------------------|
| Повторное расписание запроса, полученного более чем за 30 дней до запланированной даты начала. | 0% payable |
| Повторное расписание запроса, полученного за 8-30 дней до запланированной даты начала. | 25% payable |
| Повторное расписание запроса, полученного в течение 2-7 дней до запланированной даты начала с фирмой даты повторного бронирования.| 50% payable |
| Повторное расписание запроса, полученного менее чем за 2 дня до даты начала. | 100% payable |

| **Время отмены платы** | **Пропорциональная выплата** |
|------------------|------------------------|
| Запрос на отмену, полученный более чем за 30 дней до запланированной даты начала. | 25% payable |
| Запрос на отмену поступил за 8-30 дней до запланированной даты начала. | 50% payable |
| Запрос на отмену, полученный в течение 7 дней до запланированной даты начала. | 90% payable |

## <a name="operational-security"></a>Оперативная безопасность

Этот домен измеряет согласование поддерживающей инфраструктуры и процессов развертывания вашего приложения с лучшими практиками безопасности.

### <a name="test-specification"></a>Спецификация тестирования

|Тест | Элементы управления |
| ------------------------|------------------------------ |
| **Защита от вредоносных программ** | Необходимо развернуть механизмы защиты от вредоносных программ во всех системах, на которые обычно влияют вредоносные программы. Эти механизмы защиты могут включать использование антивирусного программного обеспечения или методов управления приложениями, которые защищают от вредоносных программ. В тех случаях, когда используется антивирусное программное обеспечение или управление приложениями, оно должно соответствовать следующим критериям.                                                                                            Антивирусные продукты (в том числе антивирусные) должны соответствовать следующим требованиям: |
||&#x2713; антивирусное программное обеспечение запущено во всех компонентах системы в пределах области.|
||&#x2713; антивирусное программное обеспечение хранится в курсе (в течение 30 дней).|
||&#x2713; антивирусные подписи хранятся в курсе (в течение 1 дня).|
||&#x2713; необходимо настроить сканирование в доступе и/или периодическое сканирование с уведомлениями.  В тех случаях, когда используется сканирование  в доступе, необходимо также настроить еженедельные проверки, однако если сканирование в доступе не настроено, необходимо настроить ежедневное сканирование.|
||&#x2713; антивирусное программное обеспечение **должно** быть настроено следующим образом.|
||&emsp;&#x25fc; заподозрили вредоносные программы.|
||&emsp;&#x25fc; карантина заподозрили вредоносные программы.|
||&emsp;&#x25fc; оповещение о подозрительных вредоносных программах.|
||&#x2713; антивирусное программное обеспечение **должно** быть настроено для входа во все действия.
||&#x2713; политики и процедуры **должны** быть на месте для продвижения сильных методов борьбы с вредоносными программами.|
||или|
||Элементы управления приложениями должны быть настроены во всей системе, чтобы соответствовать следующим требованиям:|
||&#x2713; все разрешенные приложения, разрешенные для выполнения на компонентах системы, должны быть официально утверждены организацией..|
||&#x2713; организация должна поддерживать полный список утвержденных приложений с бизнес-обоснованием для приложения.|
||&#x2713; конкретные механизмы управления приложениями должны быть полностью задокументированы: например, места с белым списком; подписание кода и т.д.|
||&#x2713; необходимо настроить управление приложениями в качестве документа.|
||&#x2713; документированный процесс утверждения приложений должен быть на месте и аудита.|
|**Управление исправлениями**|Необходимо  задокументировать политики и процедуры исправления, обеспечивающие своевременное исправление. Необходимо использовать  надежный процесс, который определяет, ранжирует и латает новые уязвимости безопасности на основе рекомендуемых баллов рейтинга риска CVSS V3.1 или эквивалентной таксономии скоринга: 
||**Рекомендуемые оценки ранжирования** рисков (диапазон базовых показателей CVSS v3.1)|
||&emsp;**Критические**: 9.0 - 10.0.|
||&emsp;**Высокая**: 7.0 - 8.9.|
||&emsp;**Средний**: 4.0 - 6.9.|
||&emsp;**Низкий**: 0.1 - 3.9.|
||&emsp;**Нет:** 0.0 |
|| **ВАЖНО.** Процесс выявления новых уязвимостей должен быть достаточно надежным, чтобы обеспечить идентификацию и исправление уязвимостей в соответствии с задокументированным окном исправлений, заданной вами. |
|**Patching**|&#x2713; Любые проблемы с критическими,  высокими или средними рисками должны быть исправлены в заранее определенном и  документальном периоде, определенном isV, который представляет минимальное время до решения проблемы.  Несмотря на то, что окно исправления определяется isV, окно должно быть в разумных временных пределах. Например, исправление критической уязвимости в течение трех месяцев было бы не разумным и поэтому было бы отклонено в рамках оценки сертификации Microsoft 365.|
||&#x2713; политики и процедуры, подробные о том, как проводится исправление, должны быть на месте и должны включать все применимые операционные системы, приложения и компоненты программного обеспечения, используемые в среде.   Это включает любые веб-зависимости, используемые в приложении или надстройки.|
||&#x2713; и операционные системы, не поддерживаемые **поставщиком,** не должны использоваться в среде. Необходимо использовать  поддерживающие политики, чтобы обеспечить удаление из среды неподтверяемого программного обеспечения и операционных систем, а также процесс определения того, когда компоненты программного обеспечения должны быть на месте.|
|**Сканирование уязвимости**|Сканирование уязвимости должно включать:|
||&#x2713; сканирования внешней уязвимости, проведенного в  отношении полного общественного следа среды в области (URL-адреса и IP-адреса для сканирования инфраструктуры и веб-приложений).|
||&#x2713; проверки подлинности внутренней уязвимости, проведенной с компонентами системы в области (не для PaaS).|
||&#x2713; Для обеспечения того, чтобы  системные компоненты были свободны от известных уязвимостей, необходимо ввести задокументированную политику исправления уязвимостей, подробно издав хронологию для устранения уязвимостей на основе определенных баллов рейтинга риска CVSS ****(см. выше).|
||&#x2713; необходимо проводить текущие повторное сканирование до устранения выявленных уязвимостей с ранжой риска в требуемой временной шкале, как это определено политикой восстановления isV.  Несмотря на то, что хронология исправлений определяется isV, окно должно быть в разумных временных рамках. Например, три месяца для устранения критической уязвимости не являются разумными и поэтому отклонены в рамках оценки сертификации Microsoft 365.|
|**Брандмауэры**|Ожидается, что в вашей вспомогательной инфраструктуре будет настроен брандмауэр (или эквивалент, в котором потребляются облачные службы) следующим образом:|
||&#x2713; должны **быть** установлены на всех подключениях к Интернету, подвергая обнажаемой среде.|
||&#x2713; **должны** быть установлены между всеми DMZ (демилитаризованные зоны) и любыми доверенными сетями.|
||&#x2713; Все общедоступные **возможности доступа должны** быть прекращены в DMZ (демилитаризованной зоне). |
||&#x2713; должны быть изменены  административные учетные данные по умолчанию перед установкой в производственные среды.|
||&#x2713; Весь трафик, разрешенный через брандмауэры в  области (в любом направлении), должен проходить процедуру утверждения, а все протоколы, службы и порты должны быть задокументированы с помощью бизнес-обоснований.|
||&#x2713; брандмауэра должны быть настроены в соответствии с задокументированными разрешенными правилами.|
||&#x2713;, в соответствии с **приложением B,** **должна** быть включена во всех интерфейсах администрирования брандмауэра без консоли.|
||&#x2713; многофакторная проверка подлинности (MFA) **должна** быть включена для административного доступа брандмауэра..|
||&#x2713; брандмауэра **должны** проводиться по крайней мере каждые шесть месяцев.|
||В ходе анализа сертификации будет рассмотрена база правил брандмауэра на наличие потоков трафика, отступив от потенциальных третьих лиц, для проверки внешнего совместного использования сторонних данных.  |
||**Брандмауэр веб-приложения (WAF).** Дополнительные кредиты будут предоставлены, если развернута WAF или эквивалентная мера для защиты от угроз и уязвимостей веб-приложений. В случае на месте должны  быть поддерживаемые политики и процедуры, а также следующие конфигурации WAF: |
||&#x2713; WAF должен работать в режиме активной защиты (автоматически блокируя выявленные атаки) или в режиме мониторинга (активное наблюдение и расследование оповещений).|
||&#x2713; WAF, настроенной для поддержки разгрузки [SSL.](#ssl)|
||&#x2713; WAF следует настроить в соответствии с базовым набором правил [OWASP](#owasp) ****   (3.0 или 3.1) для защиты от большинства из следующих ниже.|
||&emsp;&#x25fc; протокол и проблемы с кодией.|
||&emsp;&#x25fc; впрыскивание загона, запрос контрабанды и разделение ответов.|
||&emsp;&#x25fc; атаки обхода файлов и путей.|
||&emsp;&#x25fc; удаленных атак включения файлов (RFI).|
||&emsp;&#x25fc; удаленного выполнения кода.|
||&emsp;&#x25fc; phP-инъекции.|
||&emsp;&#x25fc; атаки сценариев на сайте.|
||&emsp;&#x25fc; SQL-инъекции.|
||&emsp;&#x25fc; сеанса фиксации атак.|
|**Управление изменениями**|Политики и процедуры  управления изменениями должны быть на месте, чтобы обеспечить реализацию изменений таким образом, чтобы обеспечить безопасность, стабильность и целостность среды. Необходимы следующие критерии **управления изменениями:**|
||&#x2713; разделения обязанностей — среды разработки и тестирования **должны** быть отделены от производственных сред.|
||&#x2713; конфиденциальные данные из производственных сред **не** должны использоваться в средах разработки и тестирования.|
||&#x2713; все изменения должны быть протестированы в среде тестирования и разработки до их внесения в производственную среду.|
||&#x2713; запросы на изменение **подняты** и разрешены **ДО** начала производства.|
||&#x2713; как минимум, запросы на изменение **должны** включать:|
||&emsp;&#x25fc; документация по воздействию.|
||&emsp;&#x25fc; задокументированные процедуры обратного отъема.|
||&#x2713; запросы на изменение **должны** быть помечены как полные, только **после** успешного тестирования функциональных возможностей.|
|**Безопасные разработки и развертывания программного обеспечения**|Безопасность должна быть на переднем крае практики разработки программного обеспечения, чтобы свести к минимуму риск внедрения уязвимостей кодирования в приложение и надстройку, обеспечивая тем самым безопасную среду и обеспечивая безопасность данных. Необходимо использовать следующие методы обеспечения безопасности **разработки** программного обеспечения: |
||&#x2713; необходимо иметь установленный и документированный процесс разработки программного обеспечения, охватывающий весь жизненный цикл разработки программного обеспечения.|
||&#x2713; все изменения кода должны проходить проверку и авторизацию кем-то, кроме исходного разработчика.|
||&#x2713; методы безопасного кодирования и  методы проверки должны быть рассмотрены в [классах уязвимости OWASP Top 10](https://owasp.org/www-project-top-ten) или [SANS Top 25 CWE.](https://www.sans.org/top25-software-errors)|
||&#x2713; разработчики **должны** проходить обучение безопасному кодированию программного обеспечения по крайней мере ежегодно.|
||&#x2713; код **репозитория должны** быть защищены MFA.|
||&#x2713; необходимо обеспечить защиту  репозиториев кода от вредоносных изменений кода.|
||**Примечание.** Корпорация Майкрософт [](https://www.microsoft.com/en-us/securityengineering/sdl/) опубликовала жизненный цикл разработки безопасности (SDL), который корпорация Майкрософт следует для поддержки требований безопасности и соответствия требованиям в своих продуктах. SDL помогает разработчикам создавать более безопасное программное обеспечение, уменьшая количество и серьезность уязвимостей в программном обеспечении, снижая при этом затраты на разработку.|
|**Управление учетными записями**| Управление учетной записью компонентов системы в области, а также вспомогательные политики и процедуры **должны** соответствовать следующим требованиям: |
||&#x2713; по умолчанию (поставщик или **ISV)** отключены или удалены во всех компонентах системы.|
||&#x2713; создание, изменение и удаление **учетной** записи должно проходить через установленный процесс утверждения.|
||&#x2713; учетные записи, которые не использовались  более 3 месяцев, должны быть отключены или удалены, поэтому у ISV должен быть механизм для этого.|
||&#x2713;для защиты учетных данных пользователей необходимо  настроить надежные политики паролей или другие подходящие меры по смягчению последствий. В качестве руководства следует использовать следующую политику паролей:|
||&emsp;&#x25fc; длина пароля в восемь символов|
||&emsp;&#x25fc; блокировки учетной записи не более 10 попыток|
||&emsp;&#x25fc; паролей не менее пяти паролей|
||&emsp;&#x25fc; применения надежных паролей|
||&#x2713; уникальные учетные записи пользователей должны быть выданы каждому пользователю; общие учетные записи не будут использоваться.|
||&#x2713; принципы наименьших привилегий должны применяться для всех пользователей, механизм, используемый для этого, должен быть задокументирован (например, использование групп).  |
||&#x2713; затвердеть учетную  запись службы должны быть задокументированы и проведены, например, отключены интерактивные логотипы, логоны, ограниченные определенными хостами и т. д. |
||&#x2713; решения удаленного **доступа должны**: |
||&emsp;&#x25fc; MFA (многофакторная проверка подлинности)|
||&emsp;&#x25fc; в профиле защиты от транзита, который соответствует или превышает профиль конфигурации передачи данных, как описано в приложении A|
||&#x2713; Если управление общедоступными DNS находится за пределами среды в области, все учетные записи пользователей, способные вносить изменения DNS, должны быть настроены для использования MFA.|
||**Примечание.** Порталы облачного управления также должны соответствовать применимым требованиям к управлению учетной записью, дополнительные сведения см. в приложении F.|
|**Обнаружение и предотвращение вторжений (НЕОБЯЗАТЕЛЬНЫЙ)**| Дополнительные кредиты будут предоставлены в тех случаях, когда IDPS (Система обнаружения и предотвращения вторжений) используется по периметру поддерживающих сред в области.  Следующие рекомендуемые элементы управления: |
||&#x2713; IDPS должны быть развернуты по периметру поддерживающей среды |
||&#x2713; подписи IDPS должны храниться в течение последнего дня |
||&#x2713; IDPS следует настроить для проверки TLS |
||&#x2713; IDPS должны быть настроены для всех входящий и исходящие трафик |
||&#x2713; IDPS следует настроить для оповещения |
|**Ведение журнала событий** |Охват журналов **должен включать** **все** компоненты системы и приложения, включая механизмы защиты от вредоносных программ. Необходимо войти **в** журнал следующих событий:|
||&emsp;&#x25fc; пользователям доступ к системным компонентам и приложению|
||&emsp;&#x25fc; все действия, принятые привилегированным пользователем|
||&emsp;&#x25fc; попытки логического доступа|
||&emsp;&#x25fc; создание и изменение привилегированной учетной записи|
||&emsp;&#x25fc; журнала событий|
||&emsp;&#x25fc; отключение средств безопасности; например, ведение журнала антивирусных программ или событий|
||&emsp;&#x25fc; ведения журнала по борьбе с вредоносными программами; например, обновления, обнаружение вредоносных программ, сбои сканирования|
||&emsp;&#x25fc; событий IDPS/WAF (если настроено)|
||Журналы событий **должны включать** следующие сведения:|
||&emsp;&#x25fc; идентификации пользователей |
||&emsp;&#x25fc; тип события |
||&emsp;&#x25fc; дата и время |
||&emsp;&#x25fc; успешности и сбоя|
||&emsp;&#x25fc; Метка для определения затронутой системы |
||Синхронизация времени **должна использоваться** во всех компонентах системы в области для оказания помощи в судебно-медицинских исследованиях.|
||Синхронизация времени **должна быть** настроена для использования одного и того же основного (и вторичного при необходимости) источника времени.|
||Общедоступные системы облицовки (системы в dmZ) **должны** записывать журналы во внутренний централизованный репозиторий ведения журнала. Централизованный репозиторий ведения журнала не должен быть в dmZ.|
||Трассы **аудита должны быть** защищены, чтобы гарантировать, что данные журнала не могут быть изменены субъектом угрозы. Доступ к централизованному репозиторию журналов должен быть ограничен только уполномоченным персоналом.|
||Журналы **должны быть** немедленно доступны в течение 30 дней. Данные ведения журнала **должны** храниться не менее 90 дней.|
|**Проверка** |Процессы проверки, а также поддерживающие политики и процедуры **должны** соответствовать следующим требованиям:|
||&#x2713; выполнять ежедневные обзоры журналов или использовать автоматизированный анализ журналов и технологию оповещения для проверки событий из всех компонентов системы в области, чтобы определить любые потенциальные события безопасности.|
||&#x2713; необходимо немедленно принять **меры** по обеспечению безопасности.|
|**Оповещение** |Процессы оповещений, а также поддерживающие политики и процедуры **должны** соответствовать следующим требованиям: |
||&#x2713; событий безопасности, которые представляют угрозу безопасности систем, операций или данных, должны вызывать немедленное оповещение, например (не исчерпывающий список):|
||&emsp;&#x25fc; создание учетной записи privilege / изменения|
||&emsp;&#x25fc; вредоносных программ|
||&emsp;&#x25fc; отключать средства безопасности|
||&emsp;&#x25fc; журнала событий|
||&emsp;&#x25fc; событий IDPS /WAF (если настроено) |
||&#x2713; сотрудники всегда должны быть доступны (24/7) для реагирования на срабатываем оповещений.|
|**Управление рисками**|Необходимо разработать и проводить методологию оценки рисков, которая включает в себя следующие действия:|
||&#x2713; формально определенный процесс.|
||&#x2713; выполняется по крайней мере ежегодно.|
||&#x2713; включает все активы в среде в области.|
||&#x2713; определяет угрозы и уязвимости для всех включенных активов.|
||&#x2713; включает использование определенных матриц воздействия и вероятности.|
||&#x2713; приводит к созданию реестра рисков и соответствующего плана обработки риска.|
|**Реагирование на инциденты**|Требуется тщательный план **реагирования** на инциденты, **который должен** включать как минимум:|
||&#x2713; как минимум охват компонентов и приложений систем в области.|
||&#x2713; конкретные процедуры реагирования на инциденты для ожидаемых моделей угроз.|
||&#x2713; документированный процесс коммуникации, обеспечивающий вовремя уведомление всех ключевых заинтересованных лиц и любых соответствующих внешних органов, таких как; платежные бренды/эквайеры, регулирующие органы и надзорные органы[(GDPR)](#gdpr)в соответствии с требованиями к отчетности.|
||&#x2713; реагирование на инцидент обновляется на основе извлеченных уроков, организационных изменений и включения отраслевых разработок.|
||&#x2713; подготовки для членов группы реагирования на инциденты.|

## <a name="data-handling-security-and-privacy"></a>Безопасность и конфиденциальность обработки данных

Данные, которые будут проходить между пользователем приложения, службами-посредниками и системами ISV, будут защищены шифрованием с помощью подключения TLS, поддерживающей минимум TLS v1.1. *См.* [**приложение A**](#appendix-a).

Если ваше приложение извлекает и хранит данные M365, вам потребуется реализовать схему шифрования хранения данных, которая следует спецификации, как определено в [**приложении B**](#appendix-a).

### <a name="test-specification"></a>Спецификация тестирования

|Тест | Элементы управления |
| -----------------------|-------------------------------- |
|**Данные в транзите**| Для передачи конфиденциальных данных необходимо использовать минимум TLS 1.1 с несколькими исключениями, описанными в приложении A.|
||Передача конфиденциальных **данных должна** быть надежно зашифрована в соответствии с профилями шифрования, описанными в приложении B.|
||Сжатие TLS должно быть отключено.|
||HSTS (HTTP Строгое транспортное **обеспечение)** должно быть настроено на >= 15552000|
|**Данные в rest**| Конфиденциальное  хранилище данных должно быть защищено в соответствии с профилями шифрования, описанными в приложении B, охватывающими минимальные требования к шифрованию, алгоритмам, размерам ключей, проверке подлинности и проверке подлинности сообщений.|
||Все типы хранимой информации должны быть задокументированы.|
|**Хранение и удаление данных**|Хранение конфиденциальных **данных должно** быть минимальным путем реализации политик хранения и удаления данных, процедур и процессов, которые минимально включают:|
||&#x2713; и ограничить объем хранения и хранения данных тем, что требуется для юридических, нормативных и/или бизнес-требований.|
||&#x2713; документировать и развертывать процессы безопасного удаления конфиденциальных данных, если они больше не нужны, в соответствии с задокументированными политиками.|
||&#x2713; документ и развертывание ежеквартальную процедуру идентификации и безопасного удаления хранимых конфиденциальных данных, превышающих определенный период хранения.|
|**Управление доступом к данным**|Ограничение доступа к данным для лиц с законной бизнес-причиной помогает организациям предотвратить неправильное обращение с конфиденциальными данными с помощью неопытности или злого умыкания. Конфиденциальные данные, полученные приложением/надстройками и доступ к ключам шифрования, требуют документального утверждения (электронного или письменного) для авторизованных сторон на всех уровнях доступа и должны включать список утвержденных и проверенных привилегий, демонстрирующих, что политика включает указанные требования следующим образом: |
||&#x2713; для определения потребностей и назначений привилегий доступа только к ролям, которые конкретно требуют такого привилегированного доступа. |
||&#x2713; ограничения доступа к наименьшим привилегиям, необходимым для выполнения обязанностей по работе.|
||&#x2713; обеспечить, чтобы соглашения о совместном использовании данных были заключены со всеми сторонними сторонами, потребляющие данные M365.|
|**GDPR**| В рамках процесса сертификации Microsoft 365 необходимо продемонстрировать приверженность GDPR:|
||&#x2713; предоставление независимого обзора соответствия GDPR опытной внешней аудиторской компании. От вас потребуется отправить отчет для проверки или разрешить аналитику просматривать отчет. В отчете должно быть достаточно сведений, чтобы не только проверить оценку внешнего аудитора, но и обеспечить твердую уверенность в том, что внешний обзор подтвердил соответствие GDPR.|
||или|
||&#x2713; дополнительные доказательства, чтобы обеспечить дополнительную гарантию вашей приверженности законам о конфиденциальности данных, следующим образом:|
||&#x25fc; документированный процесс запроса на доступ к субъектам (SAR), предназначенный для удовлетворения запросов клиентов и удовлетворения тридцатидневных требований GDPR. Рекомендуется использовать соответствующие средства обнаружения данных для обеспечения выполнения SAR в указанные сроки. **Примечание.** Если эти средства не используются, необходимо продемонстрировать, как это работает, и продемонстрировать, как эти процессы могут гарантировать обнаружение всех данных субъекта данных.|
||&#x25fc;уведомления о конфиденциальности должны присутствовать на веб-сайте и содержать следующие сведения:
||
||Если независимый отчет GDPR не доступен, необходимо просмотреть следующие данные в рамках оценки сертификации M365: |
||&#x2713; документированный процесс запроса на доступ к субъектам (SAR), предназначенный для удовлетворения запросов клиентов и удовлетворения тридцатидневных требований GDPR.  Рекомендуется использовать соответствующие средства обнаружения данных, чтобы обеспечить выполнение SAR в указанные сроки, когда эти средства не используются, необходимо продемонстрировать, как это работает, и продемонстрировать, как эти процессы могут гарантировать обнаружение всех данных субъекта данных.|
||&#x2713; уведомления о конфиденциальности должны присутствовать на веб-сайте и содержать следующие сведения:|
||&emsp;&emsp;&#x25a1; организации контактные данные.|
||&emsp;&emsp;&#x25a1; обрабатываемых персональных данных.|
||&emsp;&emsp;&#x25a1; законность обработки персональных данных *(статья 6).*|
||&emsp;&emsp;&#x25a1; сведения о правах субъекта данных:|
||&emsp;&emsp;&#x25a1; право на информацию *(статьи 13 и 14*).
||&emsp;&emsp;&#x25a1; доступа субъекта данных *(статья 15).*|
||&emsp;&emsp;&#x25a1; права на исправление *(статья 16).*|
||&emsp;&emsp;&#x25a1; права на стирание *(статья 17).*|
||&emsp;&emsp;&#x25a1; права на ограничение обработки *(статья 18).*|
||&emsp;&emsp;&#x25a1; право на переносимость данных *(статья 20).*|
||&emsp;&emsp;&#x25a1; права на объект *(статья 21).*|
||&emsp;&emsp;&#x25a1; права в отношении автоматической маркировки решений, включая профилирование *(статья 22).*|
||&#x2713; обмена информацией с третьими сторонами должен иметь соглашения, чтобы обеспечить соответствие обработки данных субъекта данным законам о конфиденциальности данных.|

## <a name="optional-external-compliance-frameworks-review"></a>Необязательный обзор внешних рамок соответствия требованиям

Если внешние рамки безопасности включены в аттестацию Издателя, аналитикам по сертификации необходимо будет проверить правильность этих рамок соответствия требованиям безопасности в рамках оценки сертификации Microsoft 365.
Доказательства для следующих поддерживаемых внешних рамок соответствия требованиям безопасности включают:

* [ISMS](#isms) /  [IEC](#iec) — спецификация IS0/IEC 27001</h5>
* [PCI DSS](#pci-dss)
* [SOC 2;](#soc-2)

Документация, выявленная в разделе [Доказательства соответствия](#compliance-evidence) требованиям, будет использоваться для выполнения этого обзора.

### <a name="test-specifications"></a>Спецификации тестирования

&#x2713; среды поддержки приложения и надстройки и  любые поддерживающие бизнес-процессы должны быть включены в область любых поддерживаемых внешних рамок соответствия требованиям безопасности и должны быть четко указаны в предоставленной документации. 

&#x2713; поддерживаемые внешние рамки соответствия требованиям безопасности должны быть актуальными, то есть в течение последних 12 месяцев (или в течение 15 месяцев, если в настоящее время проводится переоценка и могут быть предоставлены доказательства). 

&#x2713; поддерживаемые внешние рамки соответствия требованиям безопасности **должны** осуществляться независимой аккредитованной компанией.

## <a name="appendix-a"></a>Приложение A

### <a name="tls-profile-configuration-requirements"></a>Требования к конфигурации профилей TLS

Весь сетевой трафик, будь то в виртуальной сети, облачной службе или центре обработки данных, должен быть защищен как минимум TLS v1.1 (рекомендуется TLS v1.2+) или другим применимым протоколом. Исключения из этого требования:

* **ПЕРЕнаправление http-to-HTTPS.** Приложение может реагировать через HTTP для перенаправления клиентов в HTTPS, но ответ не должен содержать конфиденциальные данные (файлы cookie, headers, content). Никакие другие ответы HTTP, кроме перенаправлений в HTTPS и ответов на запросы о состоянии здоровья, не допускаются. См. ниже.
* **Зонды здоровья**. Ваше приложение может отвечать на проверки состояния **здоровья** по HTTP только в том случае, если проверки https-зондов не поддерживаются проверяемой стороной.
* **Доступ к сертификату.** Доступ к конечным точкам CRL, OCSP и AIA для целей проверки проверки и отзыва сертификатов разрешен через HTTP.
* **Локальные коммуникации.** Ваше приложение может использовать HTTP (или другие протоколы, не защищенные) для сообщений, которые не покидают операционную систему, e. ж. подключение к конечной точке веб-сервера, выставленной на localhost.

Сжатие TLS **должно** быть отключено.

## <a name="appendix-b"></a>Приложение B

### <a name="encryption-profile-configuration-requirements"></a>Требования к конфигурации профилей шифрования

Разрешены только криптографические примитивы и параметры:

### <a name="symmetric-cryptography"></a>Симметричная криптография

**Шифрование**

&emsp;&#x2713; разрешены только AES, BitLocker, Blowfish или TDES. Любая из поддерживаемых длины ключей >=128 разрешена (128, 192 и 256 бит) и может использоваться (рекомендуется использовать 256-битные клавиши).

&emsp;&#x2713; разрешен только режим CBC. Каждая операция шифрования должна использовать новый, случайно созданный вектор инициализации (IV).

&emsp;&#x2713; использование шифров потока, таких как RC4, **ЗАПРЕЩЕНО.**

**Функции hash**

&emsp;&#x2713; Все новые коды должны использовать SHA-256, SHA-384 или SHA-512 (в совокупности именуются SHA-2). Производительность может быть усечена до не менее 128 битов

&emsp;&#x2713; SHA-1 может использоваться только по соображениям совместимости.

&emsp;&#x2713; использование функций MD5, MD4, MD2 и других функций hash запрещено даже для нешипографических приложений.

**Проверка подлинности сообщений**

&emsp;&#x2713; все новые коды должны использовать HMAC с одной из утвержденных функций хэш.. Производительность HMAC может быть усечена до не менее 128 битов.

&emsp;&#x2713; HMAC-SHA1 может использоваться только по соображениям совместимости.

&emsp;&#x2713; ключ HMAC должен быть не менее 128 битов. Рекомендуется использовать 256-битные клавиши.

### <a name="asymmetric-algorithms"></a>Асимметричные алгоритмы

**Шифрование**

&emsp;&#x2713; RSA разрешено. Ключ **должен** быть не менее 2048 битов, и необходимо использовать обивку OAEP. Использование обивки PKCS разрешено только по соображениям совместимости.

**Signatures**

&emsp;&#x2713; RSA разрешено. Ключ **должен** быть не менее 2048 битов, и необходимо использовать обивку PSS. Использование обивки PKCS разрешено только по соображениям совместимости.

&emsp;&#x2713;ECDSA разрешено. Ключ **должен** быть не менее 256 битов. Необходимо использовать кривой NIST P-256, P-384 или P-521.

**Key Exchange**

&emsp;&#x2713; ecDH разрешено. Ключ **должен** быть не менее 256 битов. Необходимо использовать кривой NIST P-256, P-384 или P-521.

&emsp;&#x2713; ecDH разрешено. Ключ **должен** быть не менее 256 битов. Необходимо использовать кривой NIST P-256, P-384 или P-521.

## <a name="appendix-c"></a>Приложение C

### <a name="evidence-collection--delta-for-iso-27001"></a>Коллекция доказательств — Delta для ISO 27001

Если вы уже достигли соответствия ТРЕБОВАНИЯМ ISO27001, следующие пробелы (пробелы), полностью не охваченные ISO 27001, как минимум, должны быть рассмотрены в рамках этой сертификации Microsoft 365.

> [!NOTE]
> В рамках оценки сертификации Microsoft 365 аналитик сертификации определит, не включены ли какие-либо элементы управления ISO 27001 в оценку ISO 27001, а также может принять решение о выборке элементов управления, которые, как было установлено, были включены для предоставления дополнительных гарантий. Любые требования, отсутствующие в isO 27001, должны быть включены в действия по сертификации Microsoft 365.

**Защита от вредоносных программ — антивирус**

Если защита от вредоносных программ используется с помощью управления приложениями и подтверждается в отчете ISO 27001, дальнейшее расследование не требуется. Если нет управления приложениями, аналитикам сертификации потребуется определить и оценить доказательства механизмов управления приложениями, чтобы предотвратить детонацию вредоносных программ в среде. Для этого потребуется:

* Продемонстрируем, что антивирусное программное обеспечение работает во всех примерных компонентах системы.

* Продемонстрируй, что антивирус настроен во всех примерных компонентах системы, чтобы автоматически блокировать вредоносные программы, & оповещения или оповещения.

* Антивирусное программное обеспечение **должно** быть настроено для входа во все действия.

**Управление исправлениями — исправление**

Так как аудиты ISO 27001 специально не оценивают эту категорию, для этого потребуется:

* Компоненты программного обеспечения и операционные системы, не поддерживаемые **поставщиком, не** должны использоваться в среде. Необходимо обеспечить удаление из среды неподтверченных компонентов программного обеспечения и операционных систем, а также процесс определения того, когда компоненты программного обеспечения будут работать в конце жизни.

**Сканирование уязвимостей**  

Так как аудиты ISO 27001 специально не оценивают эту категорию, для этого потребуется:

* Продемонстрируем, что проводится ежеквартное внутреннее и внешнее сканирование уязвимостей.

* Подтверждение поддержки документации по исправлению уязвимости на основе ранжирования риска и в соответствии со спецификацией следующим образом:
 
 &#x2713; устранение всех проблем с критическими и высокими рисками в соответствии с ранжированием риска для внутреннего сканирования.
 
 &#x2713; устранить все критические, высокие и средние проблемы риска в соответствии с рейтингом риска для внешнего сканирования.
 
 &#x2713;, что исправление проводится в соответствии с документированной политикой устранения уязвимостей.

**Брандмауэр — брандмауэры (или эквивалентные технологии)**

Так как аудиты ISO 27001 специально не оценивают эту категорию, для этого потребуется:

* Показано, что брандмауэры установлены на границе среды в области.

* Показано, что брандмауэры установлены между dmZ и доверенными сетями.

*   Показано, что все общедоступные доступы прекращаются в DMZ.

*   Продемонстрируй, что административные учетные данные по умолчанию меняются до установки в среду в режиме live.

*   Продемонстрируем, что весь разрешенный трафик через брандмауэр (ы) проходит процесс авторизации, в результате которого документация по всему трафику имеет бизнес-обоснование.

*   Продемонстрируй, что все брандмауэры настроены на то, чтобы отказаться от трафика, явно не определенного.

*   Продемонстрируем, что брандмауэры поддерживают только сильную криптографию на всех неконсоляционных административных интерфейсах.

*   Продемонстрируем, что неконсоляционные административные интерфейсы брандмауэра, открытые для MFA службы поддержки Интернета.

*   Демонстрация того, что проверки правил брандмауэра проводятся не реже чем каждые 6 месяцев

**Брандмауэр — брандмауэры веб-приложений (WAF)**  

Дополнительные кредиты будут предоставлены при развертывании WAF для защиты от множества угроз и уязвимостей веб-приложений, к которые может быть подвержено приложение. При найме WAF или аналогичного, для этого потребуется:

* Демонстрация WAF настроена в активном режиме обороны или мониторинг более с оповещением.

* Демонстрация WAF настроена для поддержки разгрузки SSL.

* Настроено в соответствии с базовым набором правил OWASP (3.0 или 3.1) для защиты от большинства следующих типов атак:

&#x2713; протокол и проблемы с кодирой.

&#x2713; впрыскивание загона, запрос контрабанды и разделение ответов.

&#x2713; атаки обхода файлов и путей.

&#x2713; удаленных атак включения файлов (RFI).

&#x2713; удаленного выполнения кода.

&#x2713; phP-инъекции.

&#x2713; атаки сценариев на сайте.

&#x2713; SQL-инъекции.

&#x2713; сеанса фиксации атак.

**Управление изменениями**

Так как аудиты ISO 27001 не оценивают некоторые элементы процессов запроса на изменение, для этого потребуется:

* Продемонстрируем, что запросы на изменение имеют следующие сведения:

&#x2713; документированное воздействие.

&#x2713; сведения о том, какие функциональные функции должны быть проведены.

&#x2713; сведения о любых процедурах обратного отсевов.

* Продемонстрируем, что тестирование функциональных возможностей проводится после завершения изменений.

* Продемонстрируем, что запросы на изменение отключались после проверки функциональности.

**Управление учетными записями**

Поскольку аудиты ISO 27001 специально не оценивают некоторые элементы процессов управления учетной записью, для этого потребуется:

*   Демонстрация &#x2713;s для смягчения атак повтора (например, MFA, Kerberos).
*   Показано, как учетные записи, которые не использовались в течение 3 месяцев, отключены или удалены.
*   &#x2713; или другие подходящие меры по смягчению последствий должны быть настроены для защиты учетных данных пользователей. В качестве руководства следует использовать следующую политику минимальных паролей:

&#x2713; длина пароля 8 символов.

&#x2713; блокировки учетной записи не более 10 попыток.
 
&#x2713; в истории паролей не менее пяти паролей.
 
&#x2713; применения надежных паролей.
 
*   Продемонстрируем, что MFA настроен для всех решений удаленного доступа.

*   Продемонстрируй, что сильное шифрование настроено на всех решениях удаленного доступа.

*   Если управление общедоступными DNS находится вне среды в области, все учетные записи пользователей, способные вносить изменения в DNS, должны быть настроены для использования MFA.

**Обнаружение и предотвращение вторжений (НЕОБЯЗАТЕЛЬНЫЙ)**

Поскольку аудиты ISO 27001 не специально оценивают некоторые элементы процессов обнаружения и предотвращения вторжений (IDPS), для этого потребуется:

*   IDPS **должны** быть развернуты по периметру поддерживающей среды.

*   Подписи IDPS **должны** храниться в течение последнего дня.

*   IDPS **следует настроить** для проверки TLS.

*   IDPS **должны быть** настроены для всего входящий и исходящие трафик.

*   IDPS **следует** настроить для оповещения.

**Ведение журнала событий**

Поскольку аудиты ISO 27001 специально не оценивают некоторые элементы процессов ведения журнала событий безопасности, для этого потребуется:

* Продемонстрируйте, что общедоступные системы входа в централизованное решение ведения журнала, которое не находится в dmZ.

* Продемонстрируй, как сразу же можно получить сведения о журнале не менее чем за 30 дней с сохранением 90 дней.

**Проверка (ведение журнала данных)**

Так как аудиты ISO 27001 специально не оценивают некоторые элементы этой категории, для этого потребуется:

*   Показано, как проводятся ежедневные обзоры журналов и как выявляются исключения и аномалии, показывающие, как они обрабатываются.

**Оповещение**

Так как аудиты ISO 27001 специально не оценивают некоторые элементы этой категории, для этого потребуется:

* Показано, как настраиваются события безопасности для запуска оповещений для немедленного триажа.

* Демонстрация того, как сотрудники доступны 24/7 для реагирования на оповещения о безопасности.

**Управление рисками**

Поскольку аудиты ISO 27001 специально не оценивают некоторые элементы процессов оценки рисков, для этого потребуется:

* Продемонстрируем, что формальный процесс управления рисками установлен.

**Реагирование на инциденты**

Поскольку аудиты ISO 27001 не оценивают некоторые элементы политик и процессов реагирования на инциденты, для этого потребуется:

*   Продемонстрируем, что план реагирования на инциденты/процедура включает в себя:

&#x2713; конкретные процедуры реагирования для ожидаемых моделей угроз.

&#x2713; возможности обработки инцидентов, совпадающие с NIST Cybersecurity Framework (Identify, Protect, Detect, Respond, Recover).
 
&#x2713; IRP охватывает системы в области.
 
&#x2713; для группы реагирования на инциденты.

## <a name="appendix-d"></a>Приложение D

### <a name="evidence-collection--deltas-for-pci-dss"></a>Коллекция доказательств — дельты для PCI DSS

Если вы уже достигли соответствия требованиям PCI DSS, следующие пробелы (пробелы), не полностью покрытые PCI DSS, как минимум, должны быть рассмотрены в рамках этой сертификации Microsoft 365.

> [!NOTE]
> В рамках оценки сертификации Microsoft 365 аналитик сертификации определит, не включены ли какие-либо элементы управления PCI DSS в оценку PCI DSS, а также может принять решение о примере элементов управления, которые, как было установлено, были включены для предоставления дополнительной гарантии. Все требования, отсутствующие в PCI DSS, должны быть включены в мероприятия по сертификации Microsoft 365.

**Защита от вредоносных программ — управление приложениями**

Если защита от вредоносных программ на месте с помощью антивируса и подтверждается в отчете PCI DSS, дальнейшее расследование не требуется. Если антивирус не существует, аналитикам по сертификации потребуется определить и оценить доказательства механизмов управления приложениями, чтобы предотвратить детонацию вредоносных программ в среде. Для этого потребуется: 

*   Показано, как проводится утверждение приложения, и подтвердим, что это завершено.

*   Продемонстрируем, что существует полный список утвержденных приложений с бизнес-обоснованием.

*   Предоставляется или демонстрируется вспомогательная документация, важная в том, как настраивается программное обеспечение управления приложениями для удовлетворения определенных механизмов управления приложениями (например, с белым списком, подписанием кода и т.д.).

*   Продемонстрируем, что во всех примерных компонентах системы управление приложениями настроено как документированное.

**Управление исправлениями — ранжирование рисков**

Так как аудитЫ PCI DSS не оценивают данную категорию, для этого потребуется:

* Демонстрация того, как проводится ранжирование рисков уязвимостей.

**Сканирование уязвимостей**

Так как аудитЫ PCI DSS не оценивают данную категорию, для этого потребуется:

* Продемонстрируем, что исправление проводится в соответствии с документированной политикой устранения уязвимостей.

**Брандмауэр — брандмауэры (или эквивалентные технологии)**

Так как аудитЫ PCI DSS не оценивают данную категорию, для этого потребуется:

* Продемонстрируем, что брандмауэры поддерживают только сильную криптографию на всех неконсоляционных административных интерфейсах.

* Продемонстрируем, что неконсоляционные административные интерфейсы брандмауэра, открытые для MFA службы поддержки Интернета.

Дополнительные кредиты будут предоставлены, если брандмауэр веб-приложения (WAF) развернут для защиты от множества угроз и уязвимостей веб-приложений, которые могут быть подвержены приложению. При найме WAF или аналогичного, для этого потребуется:

* Демонстрация WAF настроена в активном режиме обороны или мониторинг более с оповещением.

* Демонстрация WAF настроена для поддержки разгрузки SSL.

* Настроено в соответствии с базовым набором правил OWASP (3.0 или 3.1) для защиты от большинства следующих типов атак:

&#x2713; протокол и проблемы с кодирой.

&#x2713; впрыскивание загона, запрос контрабанды и разделение ответов.

&#x2713; атаки обхода файлов и путей.

&#x2713; удаленных атак включения файлов (RFI).

&#x2713; удаленного выполнения кода.

&#x2713; phP-инъекции.

&#x2713; атаки сценариев на сайте.

&#x2713; SQL-инъекции.

&#x2713; сеанса фиксации атак.

**Управление изменениями**

Так как аудитЫ PCI DSS не оценивают некоторые элементы процессов запроса на изменение, для этого потребуется:

* Продемонстрируй, что запросы на изменение поднимаются перед тем, как они будут сделаны в производственных средах.

* Продемонстрируй, что изменения авторизуются перед началом производства.

* Продемонстрируем, что тестирование функциональных возможностей проводится после завершения изменений.

* Продемонстрируем, что запросы на изменение отключались после проверки функциональности.

**Безопасные разработки и развертывания программного обеспечения**

Поскольку аудиты PCI DSS не имеют специального доступа к некоторым элементам процессов разработки и развертывания безопасного программного обеспечения; это потребует от вас:

* Репозитории кода должны быть защищены MFA.

*   Для защиты репозиториев кода от вредоносных изменений кода необходимо использовать соответствующие средства управления доступом.

**Управление учетными записями**

Поскольку аудитЫ PCI DSS не оценивают некоторые элементы процессов управления учетной записью, для этого потребуется:

* Демонстрация того, как реализуются механизмы авторизации для смягчения атак повтора (например, MFA, Kerberos).

* Для защиты учетных данных пользователей необходимо настроить надежные политики паролей или другие подходящие меры по смягчению последствий. В качестве руководства следует использовать следующую политику минимальных паролей: 

&#x2713; длина пароля 8 символов.

&#x2713; блокировки учетной записи не более 10 попыток.

&#x2713; в истории паролей не менее пяти паролей.

&#x2713; применения надежных паролей.

* Продемонстрируй, что сильное шифрование настроено на всех решениях удаленного доступа.

* Если управление общедоступными DNS находится вне среды в области, все учетные записи пользователей, способные вносить изменения в DNS, должны быть настроены для использования MFA.

**Обнаружение и предотвращение вторжений (НЕОБЯЗАТЕЛЬНЫЙ)**

Поскольку аудиты PCI DSS не оценивают некоторые элементы процессов обнаружения и предотвращения вторжений (IDPS), для этого потребуется:

* IDPS следует настроить для проверки TLS.

*   IDPS должны быть настроены для всего входящий и исходящие трафик.

**Управление рисками**

Так как аудитЫ PCI DSS не специально оценивают некоторые элементы процессов оценки рисков, для этого потребуется:

* Демонстрация оценки риска включает в себя матрицы влияния и вероятности.

**Реагирование на инциденты**

Так как аудитЫ PCI DSS не оценивают некоторые элементы политик и процессов реагирования на инциденты, разработчику потребуется:

* Демонстрация возможностей обработки инцидентов в соответствие с NIST Cybersecurity Framework (Identify, Protect, Detect, Respond, Recover).

## <a name="appendix-e"></a>Приложение E

### <a name="evidence-collection---deltas-for-soc-2"></a>Коллекция доказательств — дельта для SOC 2

В тех случаях, когда вы уже достигли соответствия требованиям SOC 2, в рамках этой сертификации Microsoft 365 необходимо будет проанализировать следующие пробелы (пробелы), полностью не охваченные SOC 2.

> [!NOTE]
> В рамках оценки сертификации Microsoft 365 аналитик сертификации определит, не включены ли какие-либо элементы управления SOC 2 в качестве части оценки SOC 2, а также может принять решение о примере элементов управления, которые, как было установлено, были включены для предоставления дополнительных гарантий. Все требования, отсутствующие в вашей оценке SOC 2, должны быть включены в рамках действий по сертификации Microsoft 365.

**Защита от вредоносных программ — управление приложениями**

Если защита от вредоносных программ существует с помощью антивируса и подтверждается в отчете SOC 2, дальнейшее расследование не требуется. Если антивирус не существует, аналитикам по сертификации потребуется определить и оценить доказательства механизмов управления приложениями, чтобы предотвратить детонацию вредоносных программ в среде. Для этого потребуется:

* Предоставляется или демонстрируется вспомогательная документация, важная в том, как настраивается программное обеспечение управления приложениями для удовлетворения определенных механизмов управления приложениями (например, с белым списком, подписанием кода и т.д.).

* Показано, как проводится утверждение приложения, и подтвердим, что это завершено.

*   Продемонстрируем, что существует полный список утвержденных приложений с бизнес-обоснованием.

*   Продемонстрируем, что во всех примерных компонентах системы управление приложениями настроено как документированное.

**Управление исправлениями — исправление**

Так как аудиты SOC 2 специально не оценивают эту категорию, для этого потребуется:

*   Любая проблема Low, Medium, High или Critical должна быть исправлена в обычных окнах исправлений.

*   Компоненты программного обеспечения и операционные системы, не поддерживаемые поставщиком, не должны использоваться в среде. Необходимо использовать поддерживающие политики, чтобы обеспечить удаление из среды неподтверяемого программного обеспечения и операционных систем, а также процесс определения того, когда компоненты программного обеспечения должны быть на месте.

**Брандмауэр — брандмауэры**

Так как аудиты SOC 2 не оценивают элементы управления изменениями в списках управления доступом к брандмауэру, для этого потребуется:

* Продемонстрируем, что весь разрешенный трафик через брандмауэр (ы) проходит процесс авторизации, в результате которого документация по всему трафику имеет бизнес-обоснование.

* Показано, что проверки правил брандмауэра проводятся не реже чем каждые шесть месяцев.

Дополнительные кредиты будут предоставлены в случае развертывания брандмауэра веб-приложения (WAF) или аналогичного средства защиты от множества угроз и уязвимостей веб-приложения. При найме WAF или аналогичного, для этого потребуется:

* Демонстрация WAF настроена в активном режиме обороны или мониторинг более с оповещением.

* Демонстрация WAF настроена для поддержки разгрузки SSL.

* Настраивается в соответствии с базовым набором правил OWASP ((3.0 или 3.1) для защиты от большинства следующих типов атак:

&emsp;&#x2713; протокол и проблемы с кодией.

&emsp;&#x2713; впрыскивание загона, запрос контрабанды и разделение ответов.

&emsp;&#x2713; атаки обхода файлов и путей.

&emsp;&#x2713; удаленных атак включения файлов (RFI).

&emsp;&#x2713; удаленного выполнения кода.

&emsp;&#x2713; phP-инъекции.

&emsp;&#x2713; атаки сценариев на сайте.

&emsp;&#x2713; SQL-инъекции.

&emsp;&#x2713; сеанса фиксации атак.

**Управление изменениями**

Так как аудиты SOC 2 не оценивают некоторые элементы процессов запроса на изменение, для этого разработчику потребуется:

* Демонстрация того, как среды разработки и тестирования отделены от производственной среды, которая обеспечивает разделение обязанностей.

* Демонстрация того, как живые данные не используются в средах разработки и тестирования.

* Продемонстрируем, что тестирование функциональных возможностей проводится после завершения изменений.

* Продемонстрируем, что запросы на изменение отключались после проверки функциональности.

**Безопасные разработки и развертывания программного обеспечения**

Поскольку аудиты SOC 2 не имеют специального доступа к некоторым элементам процессов разработки и развертывания безопасного программного обеспечения; это потребует от вас:

*   Необходимо установить и задокументировать процесс разработки программного обеспечения, охватывающий весь жизненный цикл разработки программного обеспечения.

*   Разработчики должны проходить обучение безопасному кодированию программного обеспечения по крайней мере ежегодно.

*   Репозитории кода должны быть защищены MFA.

*   Для защиты репозиториев кода от вредоносных изменений кода необходимо использовать соответствующие средства управления доступом.

**Управление учетными записями**

Так как аудиты SOC2 не оценивают некоторые элементы процессов управления учетной записью, для этого потребуется:

*   Демонстрация того, как реализуются механизмы авторизации для смягчения атак повтора (например, MFA, Kerberos).

*   Показано, как учетные записи, которые не использовались в течение 3 месяцев, отключены или удалены.

*   Для защиты учетных данных пользователей необходимо настроить надежные политики паролей или другие подходящие меры по смягчению последствий. В качестве руководства следует использовать следующую политику минимальных паролей:

&emsp;&#x2713; минимальная длина пароля 8 символов.

&emsp;&#x2713; блокировки учетной записи не более 10 попыток.

&emsp;&#x2713; в истории паролей не менее 5 паролей.

&emsp;&#x2713; применения надежных паролей

*   Продемонстрируй, что уникальные учетные записи пользователей выданы всем пользователям.

*   Если управление общедоступными DNS находится вне среды в области, все учетные записи пользователей, способные вносить изменения в DNS, должны быть настроены для использования MFA.

**Обнаружение и предотвращение вторжений (НЕОБЯЗАТЕЛЬНЫЙ).**

Так как аудиты SOC 2 специально не оценивают некоторые элементы процессов обнаружения и предотвращения вторжений (IDPS), для этого потребуется:

*   Подписи IDPS должны храниться в течение последнего дня

*   IDPS следует настроить для проверки TLS

*   IDPS следует настроить для всех входящий и исходящие трафик

**Ведение журнала событий**

Так как аудиты SOC 2 специально не оценивают некоторые элементы процессов ведения журнала событий безопасности, для этого потребуется:

* Показано, как на всех системных компонентах в примере установлена следующая система для входа в журнал следующих событий.

&emsp;&#x2713; доступ пользователя к системным компонентам и приложению(ы).

&emsp;&#x2713; все действия, принятые высоким привилегированным пользователем.

&emsp;&#x2713; недействительные попытки логического доступа.

Демонстрация того, что в журнале содержатся события; как минимум следующие сведения:

&emsp;&#x2713; User.

&emsp;&#x2713; тип события.

&emsp;&#x2713; дата и время.

&emsp;&#x2713; индикатор успеха и сбоя.

&emsp;&#x2713; метка для определения пострадавшей системы.

*   Продемонстрируем, что все компоненты системы в примере настроены на использование синхронизации времени и что они такие же, как первичные и вторичные серверы времени.

* Продемонстрируйте, что общедоступные системы входа в централизованное решение ведения журнала, которое не находится в dmZ.

*   Продемонстрируйте, что общедоступные системы входа в централизованное решение ведения журнала, которое не находится в dmZ.

* Показано, как централизованное решение ведения журнала защищено от несанкционированного подделывания данных ведения журнала.

* Продемонстрируй, как сразу же можно получить сведения о журнале не менее чем за 30 дней с сохранением 90 дней или более.

**Управление рисками**

Так как аудиты SOC2 не оценивают некоторые элементы процессов оценки рисков, для этого потребуется:

* Демонстрация того, что формальная оценка риска проводится по крайней мере ежегодно.

*Реагирование на инциденты.*

Так как аудиты SOC2 не оценивают некоторые элементы политик и процессов реагирования на инциденты, для этого потребуется:

* Продемонстрируем, что план реагирования на инциденты/процедура включает в себя:

&emsp;&#x2713; конкретные процедуры реагирования для ожидаемых моделей угроз.

&emsp;&#x2713; документированный процесс связи для обеспечения вовремя уведомления ключевых заинтересованных лиц (брендов платежей/эквайеров, регулирующих органов, надзорных органов, директоров, клиентов и т.д.

## <a name="appendix-f"></a>Приложение F

### <a name="hosting-deployment-types"></a>Типы развертывания хостинга

Корпорация Майкрософт признает, что вы будете развертывать приложения и хранить код приложения/надстройки в различных средах размещения. Общие обязанности некоторых элементов управления безопасностью в рамках сертификации Microsoft 365 будут зависеть от используемой среды размещения. Приложение F рассматривает общие типы развертывания и совмешает их с средствами управления безопасностью, которые оцениваются в процессе оценки. Определены следующие типы развертывания хостинга:

|  |  |
|-----|------|
|**ISV Hosted**|Типы хозяйных объектов ISV можно определить как место, в котором вы отвечаете за инфраструктуру, используемую для поддержки среды приложения и надстройки. Это может быть физически расположено в собственных центрах обработки данных или сторонних центрах обработки данных со службой совместной расположения. В конечном счете у вас есть полный контроль над поддерживающей инфраструктурой и операционной средой.|
|**Инфраструктура как служба (IaaS)** (https://azure.microsoft.com/en-gb/overview/what-is-iaas/)|Инфраструктура как служба — это служба, которая предоставляется, благодаря которой инфраструктура физической поддержки управляется и поддерживается от их имени поставщиком облачных служб (CSP). Как правило, за сеть, хранилище, физические серверы и инфраструктуру виртуализации отвечает CSP. Операционные системы, middleware, runtime, Data и Applications — это обязанности вас. Функции брандмауэра также будут управляться и поддерживаться стороной, однако обслуживание базы правил брандмауэра обычно по-прежнему является обязанностью потребителей.|
|**Платформа как служба/серверная (PaaS)** (https://azure.microsoft.com/en-gb/overview/what-is-paas/)| С помощью платформы в качестве службы вы можете использовать управляемые платформы, которые представляют службу, которую можно использовать. Вам не нужно выполнять функции sysadmin, так как операционная система и вспомогательная инфраструктура управляются CSP. Обычно это используется, когда организации не хотят заниматься созданием веб-службы и вместо этого могут сосредоточиться на создании исходных кодов веб-приложений и публикации веб-приложения в облачных управляемых веб-службах.  Другим примером может быть служба баз данных, где подключение предоставляется базе данных, однако поддерживающие инфраструктуры и приложения базы данных абстрагироваться от потребителя.   **Примечание. Серверные и PaaS аналогичны таким образом для целей сертификации Microsoft 365 Размещение Типа развертывания без сервера и PasS считаются одинаковыми**|
|**Гибридная хост-система**|В гибридном типе, который используется для хозяйского типа, можно использовать несколько типов для поддержки различных частей поддерживающей среды. В этом случае приложения и надстройки используются в нескольких стеках M365. Несмотря на то, что сертификация Microsoft 365 будет поддерживать разработку приложений и надстройок для нескольких служб M365, оценка всей вспомогательной среды (через приложения и надстройки) должна быть оценена в соответствии с каждым из применимых "Сопоставлений типов hosted". Иногда для одной надстройки можно использовать различные типы хост-хозяйных окантовок, в которых это осуществляется, применимость критериев должна по-прежнему соответствовать критериям "Сопоставление типов хозяйского типа" для различных типов.|
|**Общий хостинг**|Общий хостинг — это размещение среды на платформе, совместной несколькими отдельными пользователями. Спецификация сертификации Microsoft 365 не была написана для учета этого из-за принятия облака, общий хостинг не является распространенным явлением. Если вы считаете, что это используется, обратитесь в Корпорацию Майкрософт, так как необходимо создать дополнительные требования для учета дополнительных рисков, связанных с этим типом размещения.|


## <a name="appendix-g"></a>Приложение G

### <a name="microsoft-365-certification-process-workflow"></a>Рабочий процесс сертификации Microsoft 365

![Рабочий процесс](ProcessFlow.jpg)

## <a name="learn-more"></a>Подробнее

[Обзор программы соответствия требованиям к приложениям Microsoft 365](~/overview.md)  
[Что такое тестирование издателя приложений Microsoft 365?](~/docs/attestation.md)  
[Что такое сертификация Microsoft 365?](~/docs/enterprise-app-certification-guide.md)

## <a name="glossary"></a>Глоссарий

### <a name="aia"></a>AIA

*Authority Information Access — это дескриптор расположения службы, используемый для поиска сертификата органа по выдаче сертификатов.

### <a name="crl"></a>CRL

*Список отзыва сертификатов предоставляет средство для конечной точки Secure Sockets Layer (SSL), чтобы убедиться, что сертификат, полученный от удаленного хоста, является допустимым и заслуживающим доверия.

### <a name="cvss-score"></a>Оценка CVSS

*Common Vulnerability Scoring System — это опубликованный стандарт, который измеряет уязвимость и вычисляет числовую оценку в зависимости от ее серьезности.

### <a name="cvss-patch-management-guidelines"></a>Руководство по управлению исправлениями CVSS

* Критический (9.0 — 10.0)
* High (7.0 — 8.9)
* Medium (4.0 — 6.9)
* Низкий (0,0 - 3,9)

### <a name="dmz"></a>DMZ

*Демилитаризованная зона — это физическая или логическая промежуточная сеть, которая взаимодействует непосредственно с внешними или несвободными сетями, сохраняя внутреннюю, частную сеть хостов отдельной и изолированной.

### <a name="euii"></a>EUII

*Данные, идентифицируемые конечным пользователем.*

### <a name="gdpr"></a>GDPR

*General Data Protection Regulation — это регулирование конфиденциальности и защиты данных Европейского союза для всех граждан ЕС независимо от того, где расположен сайт приложения.

### <a name="hsts"></a>HSTS

*HTTP Strict Transport Security использует заглавный заглавный протокол http response, который предписывает веб-браузеру получать доступ только к контенту через HTTPS.  Это предназначено для защиты от атак понижения и угона файлов cookie.

### <a name="iec"></a>IEC

*Международная электротехническая комиссия.

### <a name="isms"></a>ISMS

*Система управления информационной безопасностью.

### <a name="isv"></a>Независимый поставщик программного обеспечения

Независимые поставщики безопасности — это частные лица и организации, которые разрабатывают, продают и продают программное обеспечение, которое работает на сторонних программно-аппаратных платформах.

### <a name="iso-27001"></a>ISO 27001

База спецификаций системы управления информационной безопасностью для всех технических элементов управления в организациях, связанных с политиками и процедурами управления рисками.

### <a name="lfi"></a>LFI

*Локальное включение* файлов позволяет злоумышленнику включать файлы на сервере через веб-браузер.

### <a name="nist"></a>NIST

Национальный  институт стандартов (NIST), не регулятивный орган Министерства торговли США, предоставляет указания организациям частного сектора в США для оценки и утверждения их способности предотвращать, обнаруживать и реагировать на кибератаки.

### <a name="non-significant-changes"></a>Не значимые изменения

* Исправление мелких ошибок.
* Незначительные улучшения производительности.
* Обновления операционных систем/библиотек,клиентских и серверных приложений.

### <a name="ocsp"></a>OCSP

*Протокол состояния сертификата* в Интернете используется для проверки состояния отзыва цифровых сертификатов X.509.

### <a name="oii"></a>OII

*Сведения, идентифицируемые в организации.*

### <a name="owasp"></a>OWASP

*Open Web Application Security Project*.

### <a name="pci-dss"></a>PCI DSS

*Стандарт безопасности данных индустрии платежных* карт , организация, которая поддерживает стандарты безопасности данных держателей карт по всему миру.

### <a name="pen-testing"></a>Тестирование пера

*Тестирование на проникновение* — это метод тестирования веб-приложения путем моделирования вредоносных атак для поиска уязвимостей безопасности, которые злоумышленник мог использовать.

### <a name="saml"></a>SAML

*Язык разметки утверждений* безопасности является открытым стандартом для обмена данными проверки подлинности и авторизации между пользователем, поставщиком удостоверений и поставщиком услуг.

### <a name="sensitive-data"></a>Конфиденциальные данные

* Доступ к данным управления.
* Содержимое клиента.
* Сведения о удостоверениях конечных пользователей.
* Данные поддержки.
* Общедоступные личные данные.
* Псевдонимы конечных пользователей.

### <a name="significant-changes"></a>Значительные изменения

* Перемещение среды размещения.
* Основные обновления вспомогательной инфраструктуры; например, реализация нового брандмауэра, основные обновления до служб передней панели и т. д.
* Добавление возможностей и (или) расширений в приложение.
* Обновления приложения, которые захватывают дополнительные конфиденциальные данные.
* Изменения потоков данных или моделей авторизации вашего приложения
* Добавление конечных точек API или функций конечной точки API.

### <a name="soc-2"></a>SOC 2;

*Service Organization Control 2*, процедура технического аудита, состоящая из пяти принципов целевой службы для обеспечения надежного управления данными и конфиденциальностью для клиентов организации.

### <a name="ssl"></a>SSL

*Безопасный слой sockets*.

### <a name="tls"></a>TLS;

*Безопасность транспортного слоя*.
